import com.android.build.gradle.api.AndroidBasePlugin

plugins {
    id 'com.android.application' version '8.2.1' apply false
    id 'com.android.library' version '8.2.1' apply false
    id 'org.jetbrains.kotlin.android' version '1.9.22' apply false
    id 'com.vanniktech.maven.publish' version '0.27.0' apply false
    id 'com.diffplug.spotless' version '6.24.0' apply false
}

subprojects {
    plugins.withType(AndroidBasePlugin).configureEach {
        android {
            compileSdk 34
            defaultConfig {
                minSdk 21
            }
        }
    }

    plugins.withType(JavaBasePlugin).configureEach {
        java {
            toolchain.languageVersion = JavaLanguageVersion.of(8)
        }
    }

    apply plugin: 'com.diffplug.spotless'
    spotless {
        kotlin {
            ktlint()
            target('**/*.kt')
        }
    }
}
